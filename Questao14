'''
14.  Um matemático italiano da idade média conseguiu modelar
o ritmo de crescimento da população de coelhos através de uma
seqüência de números naturais que passou a ser conhecida como
seqüência de Fibonacci. O n-ésimo número da seqüência de Fibonacci Fn
é dado pela fórmula de recorrência.

Faça um programa que, dado n, calcula Fn.

'''

# Função: questiona se o usuário quer continuar ou sair do programa
def contiousair (cont):
    print('Deseja continuar? Digite 1 para continuar ou 0 para sair.')
    cont = int(input())
    cont = checarsecontehvalido(cont)
    return cont

# Função: verifica se o valor inserido pelo usuário para continuar ou sair do programa é válido
def checarsecontehvalido (cont):
    if cont == 0 or cont == 1:
        # Mensagem exibida ao usuário se ele decidiu sair do programa
        if cont == False:
            print('O exercício foi finalizado.')
    else:
        # Se o usuário tiver inserido número diferente de 0 e 1, apresenta mensagem de erro
        print('Número inválido.')
        # Questiona se o usuário quer continuar ou sair do programa
        contiousair(cont)
    return cont     

def checarvalidadedevalorinserido (num_int_positivo):
    while num_int_positivo < 0:
        # Exibe mensagem de erro se o número inserido for inválido
        print('Número inválido: o número deve ser natural.')
        # Questiona se o usuário quer continuar ou sair do programa
        cont = contiousair(1)
        # Ação executada se o usuário quer sair do programa
        if cont == 0:
            exit()
        else:
            # Ação executada se o usuário quer continuar - releitura do número
            print('Digite o número n:')
            num_int_positivo = int(input())
    return num_int_positivo

# Lê o N-ésimo número a ser calculado da sequência de Fibonacci
n = int(input('Digite o número n:'))

# Checa se o N inserido é positivo
n = checarvalidadedevalorinserido(n)

# Inicia a lista que contem os elementos da sequência de Fibonacci
soma = [0]

# 
for i in range(n+1):
    # Se o i for 0, insere na posição i o valor correspondente
    if i == 0:
        soma.insert(i, 0)
    # Se o i for 1, insere na posição i o valor correspondente
    elif i == 1:
        soma.insert(i, 1)
    # Se o i for 2, insere na posição i o valor correspondente
    elif i == 2:
        soma.insert(i, 1)
    # Se o i for igual ou maior que 3, insere na posição i o valor correspondente
    elif i>=3:
        soma.insert(i, soma[i-1]+soma[i-2])

# Converte a lista de tipo str para tipo int 
soma = list(map(int, soma))

# Imprime o N-ésimo número da sequência de Fibonacci
print('O Fn é igual a:', soma[n])
